# Utilities
* [Listening to reverse shell](#listening-to-reverse-shell)
* [Cracking hashes](#cracking-hashes)
* [Cracking encrypted files](#cracking-encrypted-files)
* [Reading Microsoft Compound Files and Office documents](#reading-microsoft-compound-files-and-office-documents)
* [Catching creds in incoming auth requests](#catching-creds-in-incoming-auth-requests)
* [Certificates and keys](#certificates-and-keys)
* [Beautify JSON](#beautify-json)
* [Deblur images](#deblur-images)

## Listening to reverse shell
```bash
ncat -l 443 -v
```

## Cracking hashes
- Identify hash type _(here are some hash examples: https://hashcat.net/wiki/doku.php?id=example_hashes)_:
```bash
name-that-hash --text <hash>
```
- Crack a hash (John The Ripper):
```bash
john ./hash --wordlist=/Users/kali/rockyou.txt
john ./hash --format=<format> --wordlist=/Users/kali/rockyou.txt
john --show ./hash
```
- Crack a hash (Hashcat. Unreliable on Apple Silicon)
```bash
hashcat -m <hash_type> -a 0 ./hash /Users/kali/rockyou.txt
```

## Cracking encrypted files
- Find `2john` converter for required file type:
```bash
locate *2john*
```
- Generate a hash:
```bash
<2john_converter> <some_document> > hash
```
- Crack it:
```bash
john ./hash --wordlist=/Users/kali/rockyou.txt
```

## Reading Microsoft Compound Files and Office documents
- Read using Apache OpenOffice.
- Analyze files using oletools: https://github.com/decalage2/oletools

## Catching creds in incoming auth requests
- Responder supports many different protocols. Default usage example:
```bash
sudo responder -I tun0
```

## Certificates and keys
- Convert `.ppk` keys to `.pem` _(a text-based container using base-64 encoding)_ or `.key`:
```bash
puttygen my.ppk -O private-openssh -o my.pem
```
- Generate a public key:
```bash
puttygen my.ppk -O public-openssh -o my.pub
puttygen my.ppk -O public -o my.pub
```

## Beautify JSON
```bash
cat some_json_file.json | jq
```

## Deblur images
- Extract from pdf is necessary: https://tools.pdf24.org/en/extract-images
- Try to deblur an image using [Depix](https://github.com/spipm/Depix):
```bash
python3 /Users/kali/depix/depix.py \
    -p <input>.png \
    -s /Users/kali/depix/images/searchimages/debruinseq_notepad_Windows10_closeAndSpaced.png # Or try to play with other options in images folder
```